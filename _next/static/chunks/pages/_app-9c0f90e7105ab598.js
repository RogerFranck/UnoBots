(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1118:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return t(2550)}])},4108:function(e,r,t){"use strict";var n=t(1438),o=function e(r,t,o){(0,n.Z)(this,e),this.id=o,this.color=r,this.number=t};r.Z=o},3609:function(e){"use strict";e.exports={activeValues:["0","1","2","3","4","5","6","7","8","9","a","b","c"],colors:["Blue","Green","Red","Yellow"],coop:!0,turns:["Player","Deimos","Fobos"],especialCardsText:{a:"skip",b:"reverse",c:"draw2",d:"draw4",e:"wild"},wildcards:["d","d","d","d","e","e","e","e",]}},1311:function(e,r,t){"use strict";var n=(0,t(7294).createContext)();r.Z=n},2550:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return j}});var n=t(4924);function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(r){(0,n.Z)(e,r,t[r])})}return e}var a=t(5893);t(906);var c=t(9815),i=t(7294);function u(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):(function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t})(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}var s="DRAW_PLAYER_STACK",l="PLAY_PLAYER_PLAYZONE",d="GET_PLAYERS_CARD",p="NEXT_PLAYER",f="SET_SOUND",y="NEW_SEQUENCE",b="OPEN_SELECTED_CARD_MODAL";function P(e,r){var t,a,c=r.payload,i=r.type;switch(i){case s:return u(o({},e),(t={},(0,n.Z)(t,c.currentPlayer,c.HandList),(0,n.Z)(t,"Stack",c.stackList),t));case l:return u(o({},e),(a={},(0,n.Z)(a,c.target,c.newPlayerHand),(0,n.Z)(a,"PlayZone",c.newPlace),a));case y:return u(o({},e),{direction:c.direction,turno:c.newPlayer});case p:return u(o({},e),{turno:c.newPlayer});case f:return u(o({},e),(0,n.Z)({},c.target,c.sonido));case b:return u(o({},e),{openSelectedCardModal:c});case d:return u(o({},e),{playerHand:c.playerHand,FobosBot:c.FobosBot,DeimosBot:c.DeimosBot,PlayZone:c.firsPlayZone,Stack:c.newStack});default:return e}}var h=t(1311),v=t(1438);function m(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Z=t(4108).Z,w=t(3609),g=w.activeValues,k=w.colors,O=w.especialCardsText,S=w.wildcards,E=function(){var e=k.reduce(function(e,r){return(0,c.Z)(e).concat((0,c.Z)(g.map(function(e,t){return new Z(r,e,String("".concat(e,"-").concat(r,"-").concat(t)))})))},[]),r=S.map(function(e,r){return new Z("Especial",e,"".concat(e,"-Especial-").concat(r))});return(0,c.Z)(e).concat((0,c.Z)(e),(0,c.Z)(r)).sort(function(){return Math.random()-.5})},D=function(){var e,r,t;function n(){(0,v.Z)(this,n),this.cards=E()}return r=[{key:"firstCardPlayZone",value:function(){for(var e=this.cards[Math.floor(Math.random()*this.cards.length)];Object.keys(O).includes(e.number);)e=this.cards[Math.floor(Math.random()*this.cards.length)];var r=this.cards.indexOf(e);//! Creo que no borra la carta tomada 
//! console.log("Esta", this.cards.includes(first)) 
return r>-1&&this.cards.splice(r,1),e}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&this.reload(e),this.cards.pop()}},{key:"shuffle",value:function(){this.cards=this.cards.sort(function(){return Math.random()-.5})}},{key:"reload",value:function(e){this.cards=e.sort(function(){return Math.random()-.5})}}],m(n.prototype,r),t&&m(n,t),n}(),B=["playerHand","DeimosBot","FobosBot"],_=function(e){var r=e.children,t=(0,i.useReducer)(P,{playerHand:[{number:"0",color:"Red"}],FobosBot:[{number:"0",color:"Red"}],DeimosBot:[{number:"0",color:"Red"}],Stack:[{number:"0",color:"Red"}],PlayZone:[{number:"0",color:"Red"}],turno:0,sonidoPop:!1,sonidoDraw:!1,players:["playerHand","DeimosBot","FobosBot"],direction:1,openSelectedCardModal:!1}),n=t[0],o=t[1],u=function(e){o({type:b,payload:e})},v=function(e,r){o({type:f,payload:{sonido:e,target:r}})},m=function(e){var r=n.turno+n.direction;r>2?r=0:r<0&&(r=2),o({type:p,payload:{newPlayer:"number"==typeof e?e:r}})},Z=function(){for(var e=n.turno,r=0;r<2;r++)(e+=n.direction)>2?e=0:e<0&&(e=2);return e},w=function(){var e=-1*n.direction,r=n.turno+e;r>2?r=0:r<0&&(r=2),o({type:y,payload:{direction:e,newPlayer:r}})},g=function(e){u(!0);var r=n.Stack,t=r.pop(),a=r.pop(),i=r.pop(),l=r.pop(),d=n.turno,p=d;p=2==d?0:d+1,o({type:s,payload:{HandList:(0,c.Z)(n[n.players[p]]).concat([t,a,i,l]),stackList:r,currentPlayer:n.players[p]}});//! Las cartas no son stakeables
},k=function(e){var r=n.Stack,t=r.pop(),a=r.pop(),i=n.turno,u=i;u=2==i?0:i+1,o({type:s,payload:{HandList:(0,c.Z)(n[n.players[u]]).concat([t,a]),stackList:r,currentPlayer:n.players[u]}}),//! Las cartas no son stakeables
m(e)},O=function(e){var r=n.PlayZone[n.PlayZone.length-1],t=!1;"d"==r.number&&(t=Z()),r.color=e,u(!1),m(t)},S=function(e){var r=n.Stack,t=r.pop(),a=r.pop();o({type:s,payload:{HandList:(0,c.Z)(n.playerHand).concat([t,a]),stackList:r,currentPlayer:"playerHand"}})},E=function(){u(!0)},B=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e)o({type:d,payload:{playerHand:n.playerHand,FobosBot:n.FobosBot,DeimosBot:n.DeimosBot,firsPlayZone:[r.pop()],newStack:r.sort(function(){return Math.random()-.5})}});else{var t,a=new D,c=C(a),i=c.playerHand;o({type:d,payload:{playerHand:i,FobosBot:c.FobosBot,DeimosBot:c.DeimosBot,firsPlayZone:[a.firstCardPlayZone()],newStack:a.cards}})}},_=function(){var e=n.Stack,r=e.pop();o({type:s,payload:{HandList:(0,c.Z)(n[n.players[n.turno]]).concat([r]),stackList:e,currentPlayer:n.players[n.turno]}}),m(),n.sonidoDraw&&n.sonidoDraw.play()},j=function(e,r){if(e.color==n.PlayZone[n.PlayZone.length-1].color||e.number==n.PlayZone[n.PlayZone.length-1].number||"Especial"==e.color){"playerHand"==r&&console.log("Jugador jugo: ".concat(e.id));var t=!1,a=!1;switch(e.number){case"a":t=Z();break;case"b":a=!0,w();break;case"c":k(),t=Z();break;case"d":a=!0,g();break;case"e":a=!0,E()}var c=n.PlayZone,i=n[r];i.splice(i.indexOf(e),1),c.push(e),o({type:l,payload:{newPlayerHand:i,target:r,newPlace:c}}),a||m(t),n.sonidoPop&&n.sonidoPop.play()}};return(0,a.jsx)(h.Z.Provider,{value:{playerHand:n.playerHand,FobosBot:n.FobosBot,DeimosBot:n.DeimosBot,Stack:n.Stack,PlayZoneData:n.PlayZone,turno:n.turno,players:n.players,openSelectedCardModal:n.openSelectedCardModal,setUpGame:B,DrawPlayerCard:_,PlayPlayerCards:j,setEffectsSounds:v,drawTwoCardUnoButton:S,changeColorEspecialCard:O},children:r})},C=function(e){var r={playerHand:[],FobosBot:[],DeimosBot:[]};return B.forEach(function(t){r[t]=[0,1,2,3,4,5,6].map(function(r){return e.draw()})}),r},j=function(e){var r=e.Component,t=e.pageProps;return(0,a.jsx)(_,{children:(0,a.jsx)(r,o({},t))})}},906:function(){},943:function(e,r,t){"use strict";function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}t.d(r,{Z:function(){return n}})},1438:function(e,r,t){"use strict";function n(e,r){if(!(e instanceof r))throw TypeError("Cannot call a class as a function")}t.d(r,{Z:function(){return n}})},4924:function(e,r,t){"use strict";function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}t.d(r,{Z:function(){return n}})},3375:function(e,r,t){"use strict";function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}t.d(r,{Z:function(){return n}})},9815:function(e,r,t){"use strict";t.d(r,{Z:function(){return c}});var n=t(943),o=t(3375),a=t(1566);function c(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||(0,o.Z)(e)||(0,a.Z)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1566:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(943);function o(e,r){if(e){if("string"==typeof e)return(0,n.Z)(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return(0,n.Z)(e,r)}}}},function(e){var r=function(r){return e(e.s=r)};e.O(0,[774,179],function(){return r(1118),r(387)}),_N_E=e.O()}]);