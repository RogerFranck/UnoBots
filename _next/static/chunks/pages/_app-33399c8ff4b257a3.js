(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1118:function(r,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(849)}])},4108:function(r,t,n){"use strict";var e=n(1438),o=function r(t,n){(0,e.Z)(this,r),this.color=t,this.number=n};t.Z=o},3609:function(r){"use strict";r.exports={activeValues:["0","1","2","3","4","5","6","7","8","9"],colors:["Blue","Green","Red","Yellow"],turns:["Player","Deimos","Fobos"]}},1311:function(r,t,n){"use strict";var e=(0,n(7294).createContext)();t.Z=e},849:function(r,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var e=n(4924);function o(r){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(t){(0,e.Z)(r,t,n[t])})}return r}var a=n(5893);function u(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=Array(t);n<t;n++)e[n]=r[n];return e}function c(r){return function(r){if(Array.isArray(r))return u(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,t){if(r){if("string"==typeof r)return u(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if("Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(r,t)}}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n(906);var i=n(7294);function s(r,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):(function(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);n.push.apply(n,e)}return n})(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))}),r}var l="DRAW_PLAYER_STACK",f="PLAY_PLAYER_PLAYZONE",y="GET_PLAYERS_CARD",p="NEXT_PLAYER",d="SET_SOUND";function b(r,t){var n,a,u=t.payload,c=t.type;switch(c){case l:return s(o({},r),(n={},(0,e.Z)(n,u.currentPlayer,u.HandList),(0,e.Z)(n,"Stack",u.stackList),n));case f:return s(o({},r),(a={},(0,e.Z)(a,u.target,u.newPlayerHand),(0,e.Z)(a,"PlayZone",u.newPlace),a));case p:return s(o({},r),{turno:u.newPlayer});case d:return s(o({},r),(0,e.Z)({},u.target,u.sonido));case y:return s(o({},r),{playerHand:u.playerHand,FobosBot:u.FobosBot,DeimosBot:u.DeimosBot,PlayZone:u.firsPlayZone,Stack:u.newStack});default:return r}}var P=n(1311),m=n(1438);function v(r,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}var h=n(4108).Z,w=n(3609),O=w.activeValues,Z=w.colors,g=function(){var r=Z.reduce(function(r,t){return c(r).concat(c(O.map(function(r){return new h(t,r)})))},[]);return c(r).concat(c(r)).sort(function(){return Math.random()-.5})},D=function(){var r,t,n;function e(){(0,m.Z)(this,e),this.cards=g()}return t=[{key:"draw",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r&&this.reload(r),this.cards.pop()}},{key:"shuffle",value:function(){this.cards=this.cards.sort(function(){return Math.random()-.5})}},{key:"reload",value:function(r){this.cards=r.sort(function(){return Math.random()-.5})}}],v(e.prototype,t),n&&v(e,n),e}(),S=["playerHand","DeimosBot","FobosBot"],j=function(r){var t=r.children,n=(0,i.useReducer)(b,{playerHand:[{number:"0",color:"Red"}],FobosBot:[{number:"0",color:"Red"}],DeimosBot:[{number:"0",color:"Red"}],Stack:[{number:"0",color:"Red"}],PlayZone:[{number:"0",color:"Red"}],turno:0,sonidoPop:!1,sonidoDraw:!1}),e=n[0],o=n[1],u=function(r,t){o({type:d,payload:{sonido:r,target:t}})},s=function(){var r=e.turno;o({type:p,payload:{newPlayer:2==r?0:r+1}})},m=function(){var r,t=new D,n=_(t),e=n.playerHand;o({type:y,payload:{playerHand:e,FobosBot:n.FobosBot,DeimosBot:n.DeimosBot,firsPlayZone:[t.draw()],newStack:t.cards}})},v=function(){var r=e.Stack,t=r.pop();o({type:l,payload:{HandList:c(e[S[e.turno]]).concat([t]),stackList:r,currentPlayer:S[e.turno]}}),s(),e.sonidoDraw&&e.sonidoDraw.play()},h=function(r,t){if(r.color==e.PlayZone[e.PlayZone.length-1].color||r.number==e.PlayZone[e.PlayZone.length-1].number){var n=e.PlayZone,a=e[t].filter(function(t){return t!=r});n.push(r),o({type:f,payload:{newPlayerHand:a,target:t,newPlace:n}}),s(),e.sonidoPop&&e.sonidoPop.play()}};return(0,a.jsx)(P.Z.Provider,{value:{playerHand:e.playerHand,FobosBot:e.FobosBot,DeimosBot:e.DeimosBot,Stack:e.Stack,PlayZoneData:e.PlayZone,turno:e.turno,setUpGame:m,DrawPlayerCard:v,PlayPlayerCards:h,setEffectsSounds:u},children:t})},_=function(r){var t={playerHand:[],FobosBot:[],DeimosBot:[]};return S.forEach(function(n){t[n]=[0,1,2,3,4,5,6].map(function(t){return r.draw()})}),t},k=function(r){var t=r.Component,n=r.pageProps;return(0,a.jsx)(j,{children:(0,a.jsx)(t,o({},n))})}},906:function(){},1438:function(r,t,n){"use strict";function e(r,t){if(!(r instanceof t))throw TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return e}})},4924:function(r,t,n){"use strict";function e(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}n.d(t,{Z:function(){return e}})}},function(r){var t=function(t){return r(r.s=t)};r.O(0,[774,179],function(){return t(1118),t(387)}),_N_E=r.O()}]);