(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1118:function(r,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return t(849)}])},4108:function(r,e,t){"use strict";var n=t(1438),o=function r(e,t,o){(0,n.Z)(this,r),this.id=o,this.color=e,this.number=t};e.Z=o},3609:function(r){"use strict";r.exports={activeValues:["0","1","2","3","4","5","6","7","8","9","a","b","c"],colors:["Blue","Green","Red","Yellow"],turns:["Player","Deimos","Fobos"],especialCardsText:{a:"skip",b:"reverse",c:"draw2",d:"draw4",e:"wild"},wildcards:["d","d","d","d","e","e","e","e",]}},1311:function(r,e,t){"use strict";var n=(0,t(7294).createContext)();e.Z=n},849:function(r,e,t){"use strict";t.r(e),t.d(e,{default:function(){return A}});var n=t(4924);function o(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.forEach(function(e){(0,n.Z)(r,e,t[e])})}return r}var a=t(5893);function c(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function i(r){return function(r){if(Array.isArray(r))return c(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(r){if("string"==typeof r)return c(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if("Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(r,e)}}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t(906);var u=t(7294);function s(r,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):(function(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t.push.apply(t,n)}return t})(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}),r}var l="DRAW_PLAYER_STACK",d="PLAY_PLAYER_PLAYZONE",f="GET_PLAYERS_CARD",y="NEXT_PLAYER",p="SET_SOUND",b="NEW_SEQUENCE";function P(r,e){var t,a,c=e.payload,i=e.type;switch(i){case l:return s(o({},r),(t={},(0,n.Z)(t,c.currentPlayer,c.HandList),(0,n.Z)(t,"Stack",c.stackList),t));case d:return s(o({},r),(a={},(0,n.Z)(a,c.target,c.newPlayerHand),(0,n.Z)(a,"PlayZone",c.newPlace),a));case b:return s(o({},r),{direction:c.direction,turno:c.newPlayer});case y:return s(o({},r),{turno:c.newPlayer});case p:return s(o({},r),(0,n.Z)({},c.target,c.sonido));case f:return s(o({},r),{playerHand:c.playerHand,FobosBot:c.FobosBot,DeimosBot:c.DeimosBot,PlayZone:c.firsPlayZone,Stack:c.newStack});default:return r}}var h=t(1311),m=t(1438);function v(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}var w=t(4108).Z,O=t(3609),g=O.activeValues,Z=O.colors,k=O.especialCardsText,E=O.wildcards,S=function(){var r=Z.reduce(function(r,e){return i(r).concat(i(g.map(function(r,t){return new w(e,r,String("".concat(r,"-").concat(e,"-").concat(t)))})))},[]);return E.map(function(r,e){return new w("Especial",r,"".concat(r,"-Especial-").concat(e))}),i(r).concat(i(r)).sort(function(){return Math.random()-.5})},D=function(){var r,e,t;function n(){(0,m.Z)(this,n),this.cards=S()}return e=[{key:"firstCardPlayZone",value:function(){for(var r=this.cards[Math.floor(Math.random()*this.cards.length)];Object.keys(k).includes(r.number);)r=this.cards[Math.floor(Math.random()*this.cards.length)];var e=this.cards.indexOf(r);//! Creo que no borra la carta tomada 
//! console.log("Esta", this.cards.includes(first)) 
return e>-1&&this.cards.splice(e,1),r}},{key:"draw",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r&&this.reload(r),this.cards.pop()}},{key:"shuffle",value:function(){this.cards=this.cards.sort(function(){return Math.random()-.5})}},{key:"reload",value:function(r){this.cards=r.sort(function(){return Math.random()-.5})}}],v(n.prototype,e),t&&v(n,t),n}(),j=["playerHand","DeimosBot","FobosBot"],_=function(r){var e=r.children,t=(0,u.useReducer)(P,{playerHand:[{number:"0",color:"Red"}],FobosBot:[{number:"0",color:"Red"}],DeimosBot:[{number:"0",color:"Red"}],Stack:[{number:"0",color:"Red"}],PlayZone:[{number:"0",color:"Red"}],turno:0,sonidoPop:!1,sonidoDraw:!1,players:["playerHand","DeimosBot","FobosBot"],direction:1}),n=t[0],o=t[1],c=function(r,e){o({type:p,payload:{sonido:r,target:e}})},s=function(r){var e=n.turno+n.direction;e>2?e=0:e<0&&(e=2),o({type:y,payload:{newPlayer:r||e}})},m=function(){for(var r=n.turno,e=0;e<2;e++)(r+=n.direction)>2?r=0:r<0&&(r=2);return r},v=function(){var r=-1*n.direction,e=n.turno+r;e>2?e=0:e<0&&(e=2),console.log(e),o({type:b,payload:{direction:r,newPlayer:e}})},w=function(r){var e=n.Stack,t=e.pop(),a=e.pop(),c=n.turno,u=c;u=2==c?0:c+1;var d=i(n[n.players[u]]).concat([t,a]);o({type:l,payload:{HandList:d,stackList:e,currentPlayer:n.players[u]}}),s(r)},O=function(){var r,e=new D,t=B(e),n=t.playerHand;o({type:f,payload:{playerHand:n,FobosBot:t.FobosBot,DeimosBot:t.DeimosBot,firsPlayZone:[e.firstCardPlayZone()],newStack:e.cards}})},g=function(){var r=n.Stack,e=r.pop();o({type:l,payload:{HandList:i(n[n.players[n.turno]]).concat([e]),stackList:r,currentPlayer:n.players[n.turno]}}),s(),n.sonidoDraw&&n.sonidoDraw.play()},Z=function(r,e){if(r.color==n.PlayZone[n.PlayZone.length-1].color||r.number==n.PlayZone[n.PlayZone.length-1].number){var t=!1,a=!1;switch(r.number){case"a":t=m();break;case"b":a=!0,v();break;case"c":w(),t=m()}var c=n.PlayZone,i=n[e].filter(function(e){return e!=r});c.push(r),o({type:d,payload:{newPlayerHand:i,target:e,newPlace:c}}),a||s(t),n.sonidoPop&&n.sonidoPop.play()}};return(0,a.jsx)(h.Z.Provider,{value:{playerHand:n.playerHand,FobosBot:n.FobosBot,DeimosBot:n.DeimosBot,Stack:n.Stack,PlayZoneData:n.PlayZone,turno:n.turno,players:n.players,setUpGame:O,DrawPlayerCard:g,PlayPlayerCards:Z,setEffectsSounds:c},children:e})},B=function(r){var e={playerHand:[],FobosBot:[],DeimosBot:[]};return j.forEach(function(t){e[t]=[0,1,2,3,4,5,6].map(function(e){return r.draw()})}),e},A=function(r){var e=r.Component,t=r.pageProps;return(0,a.jsx)(_,{children:(0,a.jsx)(e,o({},t))})}},906:function(){},1438:function(r,e,t){"use strict";function n(r,e){if(!(r instanceof e))throw TypeError("Cannot call a class as a function")}t.d(e,{Z:function(){return n}})},4924:function(r,e,t){"use strict";function n(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}t.d(e,{Z:function(){return n}})}},function(r){var e=function(e){return r(r.s=e)};r.O(0,[774,179],function(){return e(1118),e(387)}),_N_E=r.O()}]);