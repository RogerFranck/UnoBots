(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(8694)}])},8694:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return W}});var o=r(5893),t=r(7294),a=r(1419),s=r.n(a),l=r(8466),c=r.n(l),i=r(5675),d=r.n(i),u=r(5697),C=r.n(u);function f(e){var n=e.onClick,r=e.bot,t=e.left,a=e.index,s=e.focus;return(0,o.jsx)("div",{className:r?c().UnoCardUnFocus:s?c().UnoCard:c().UnoCardDesFocus,onClick:n,style:{zIndex:a},children:(0,o.jsx)("div",{className:r?t?c().CenterImageBotLeft:c().CenterImageBot:c().CenterImage,children:(0,o.jsx)(d(),{src:"/UnoCard/logo.png",alt:"Uno",width:80,height:80})})})}function x(e){var n=e.listCard,r=e.left,t=n.slice(0,7).map(function(e,n){return(0,o.jsx)(f,{bot:!0,left:r,index:n},n)});return(0,o.jsxs)("div",{children:[(0,o.jsx)("center",{children:(0,o.jsxs)("span",{children:[" ",r?"Fobos : ":"Deimos : "," #",n.length," "]})}),(0,o.jsx)("div",{className:s().BotGame,children:t})]})}f.propTypes={onClick:C().func,bot:C().bool,left:C().bool,index:C().number},x.propTypes={listCard:C().array.isRequired,left:C().bool};var h=r(3609),p={Red:"#D93D26",Blue:"#005EA6",Green:"#41B401",Yellow:"#F5C400",Especial:"Black"},m={c:"+2",d:"+4"};function g(e){var n=e.Number,r=e.Color;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:c().miniTextLeft,children:Object.keys(m).includes(n)?(0,o.jsxs)("span",{style:{color:"white"},children:[" ",m[n]," "]}):(0,o.jsx)("span",{style:{color:p[r]},children:(0,o.jsx)(d(),{src:"/UnoCard/".concat(h.especialCardsText[n],".svg"),alt:"".concat(h.especialCardsText[n]),width:15,height:15})})}),(0,o.jsx)("div",{className:c().CenterText,children:(0,o.jsx)(d(),{src:"/UnoCard/".concat(h.especialCardsText[n],".svg"),alt:"".concat(h.especialCardsText[n]),width:50,height:50})}),(0,o.jsx)("div",{className:c().miniTextRight,children:Object.keys(m).includes(n)?(0,o.jsxs)("span",{style:{color:"white"},children:[" ",m[n]," "]}):(0,o.jsx)("span",{style:{color:p[r]},children:(0,o.jsx)(d(),{src:"/UnoCard/".concat(h.especialCardsText[n],".svg"),alt:"".concat(h.especialCardsText[n]),width:15,height:15})})})]})}var _={Red:"#D93D26",Blue:"#005EA6",Green:"#41B401",Yellow:"#F5C400",Especial:"Black"};function y(e){var n=e.Number,r=e.Color,t=e.Focus,a=e.onClick,s=e.turno,l=e.players;return(0,o.jsx)("div",{className:t?c().Card:c().CardFocus,style:{backgroundColor:_[r]},onClick:l&&"playerHand"==l[s]?a:function(){return console.log("No")},children:Object.keys(h.especialCardsText).includes(n)?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(g,{Number:n,Color:r})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:c().miniTextLeft,children:n}),(0,o.jsx)("div",{className:c().CenterText,children:n}),(0,o.jsx)("div",{className:c().miniTextRight,children:n})]})})}var j=r(1311);function w(e){var n=e.listCard,r=(0,t.useContext)(j.Z),a=r.PlayPlayerCards,l=r.turno,c=r.players,i=n.map(function(e,n){return(0,o.jsx)(y,{Number:e.number,Color:e.color,turno:l,players:c,Focus:"playerHand"==c[l],onClick:function(){return a(e,"playerHand")}},n)});return(0,o.jsx)("div",{className:s().TableGame,children:i})}function v(){var e=(0,t.useContext)(j.Z).PlayZoneData;return(0,o.jsx)("div",{children:(0,o.jsx)(y,{Number:e[e.length-1].number,Color:e[e.length-1].color},e[e.length-1].id)})}function b(){var e=(0,t.useContext)(j.Z),n=e.DrawPlayerCard,r=e.Stack,a=e.turno,s=e.players,l=function(){"playerHand"==s[a]&&n()};return(0,o.jsx)(o.Fragment,{children:r.length?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(f,{onClick:l,focus:"playerHand"==s[a]})}):(0,o.jsx)("div",{})})}w.propTypes={listCard:C().array.isRequired};var Z=r(214),B=r.n(Z),T=r(4111),N=r(1438),P=r(4924),k=r(8029),E=r(828),F=r(9815),U=r(460),D=r(6486),O=r(3609).coop,G=function(e){(0,k.Z)(r,e);var n=(0,U.Z)(r);function r(e){var o;return(0,N.Z)(this,r),o=n.call(this,e),(0,P.Z)((0,T.Z)(o),"seePlayZoneCard",function(){return o.props.PlayZoneData[o.props.PlayZoneData.length-1]}),(0,P.Z)((0,T.Z)(o),"getOptionPlayCard",function(e){return o.state.hand.filter(function(n){return n.color==e.color||n.number==e.number})}),(0,P.Z)((0,T.Z)(o),"isOptions",function(e){return!(0,D.isEmpty)(e)}),(0,P.Z)((0,T.Z)(o),"selectedCard",function(e){var n,r=0;return e.forEach(function(e){var t=o.getOptionPlayCard(e);t.length>r&&(r=t.length,n=e)}),n}),(0,P.Z)((0,T.Z)(o),"draw",function(){o.props.fun.DrawPlayerCard()}),(0,P.Z)((0,T.Z)(o),"playCard",function(e){o.props.fun.PlayPlayerCards(e,o.state.name)}),(0,P.Z)((0,T.Z)(o),"chooseColorEspecialCard",function(e){o.props.fun.changeColorEspecialCard(e)}),(0,P.Z)((0,T.Z)(o),"getColor",function(e){var n=Object.entries((e.show().length<o.show().length&&O?e:(0,T.Z)(o)).show().reduce(function(e,n){return Object.keys(e).includes(n.color)&&(e[n.color]+=1),e},{Blue:0,Green:0,Red:0,Yellow:0})).reduce(function(e,n){var r=(0,E.Z)(n,2),o=r[0],t=r[1];return e[1]<t?[o,t]:e},["Red",0])[0];return o.chooseColorEspecialCard(n)}),(0,P.Z)((0,T.Z)(o),"findWildcard",function(){return o.show().filter(function(e){return"Especial"===e.color})}),(0,P.Z)((0,T.Z)(o),"answer",function(e){return o.getOptionPlayCard(e).length}),(0,P.Z)((0,T.Z)(o),"benefit",function(e,n){var r;return e[n.indexOf((r=Math).max.apply(r,(0,F.Z)(n)))]}),(0,P.Z)((0,T.Z)(o),"suggest",function(e,n,r){var t=e.show().length<o.show().length;if(r&&t&&(n=n.filter(function(e){return"c"!==e.number})),(0,D.isEmpty)(n))return"draw";var a=n.map(function(n){return e.answer(n)}),s=(0,D.uniq)(a);if(!(1===s.length&&s.includes(0)))return console.log(5),console.log({options:n,odds:a}),o.benefit(n,a);if(!t)return console.log(4),o.benefit(n,a);var l=o.findWildcard();if((0,D.isEmpty)(l))return console.log(3),o.benefit(n,a);var c=r?"d":"e",i=l.find(function(e){return e.number!==c});return i?(console.log(1),i):(console.log(2),o.selectedCard(n))}),(0,P.Z)((0,T.Z)(o),"play",function(e,n){var r=o.seePlayZoneCard(),t=o.getOptionPlayCard(r);if(o.isOptions(t)){o.suggest(e,t);var a=O?o.suggest(e,t,n):o.selectedCard(t);if("draw"===a){o.draw(),console.log("".concat(o.state.name," draw card"));return}console.log({betterCard:a}),o.playCard(a),"Especial"===a.color&&o.getColor(e),console.log("".concat(o.state.name," play ").concat(a.number," - ").concat(a.color))}else o.draw(),console.log("".concat(o.state.name," draw card"))}),(0,P.Z)((0,T.Z)(o),"show",function(){return o.state.hand}),o.state={name:e.name,hand:e.hand},o}return r}(t.Component),H=r(9757);function R(e){var n=e.drawTwoCardUnoButton,r=(0,t.useState)(!1),a=r[0],s=r[1],l=function(){n()},c=function(){s(!0)};return(0,t.useEffect)(function(){if(!a){var e=setTimeout(function(){l()},1500);return function(){return clearTimeout(e)}}},[a]),(0,o.jsx)(o.Fragment,{children:!a&&(0,o.jsx)(H.Z,{style:{backgroundColor:"orangered",fontSize:"13px",cursor:"pointer",border:"1px solid white"},onClick:c,children:"UNO"})})}var I=r(3423),S=r(5398),Y=r(609),A=r(6969),L=r.n(A);function M(){var e=(0,t.useContext)(j.Z),n=e.openSelectedCardModal,r=e.changeColorEspecialCard,a=function(e){r(e)};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(I.Z,{open:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,o.jsx)(Y.Z,{id:"alert-dialog-title",children:"Select a color"}),(0,o.jsx)(S.Z,{children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:L().rows,children:[(0,o.jsx)("div",{className:L().colorBoxRed,onClick:function(){return a("Red")}}),(0,o.jsx)("div",{className:L().colorBoxBlue,onClick:function(){return a("Blue")}})]}),(0,o.jsxs)("div",{className:L().rows,children:[(0,o.jsx)("div",{className:L().colorBoxGreen,onClick:function(){return a("Green")}}),(0,o.jsx)("div",{className:L().colorBoxYellow,onClick:function(){return a("Yellow")}})]})]})})]})})}function W(){var e=(0,t.useContext)(j.Z),n=e.playerHand,r=e.FobosBot,a=e.DeimosBot,s=e.setUpGame,l=e.turno,c=e.PlayZoneData,i=e.DrawPlayerCard,d=e.PlayPlayerCards,u=e.setEffectsSounds,C=e.Stack,f=e.players,h=e.drawTwoCardUnoButton,p={DrawPlayerCard:i,PlayPlayerCards:d,changeColorEspecialCard:e.changeColorEspecialCard},m=(0,t.useState)({win:!1,player:"Unknow"}),g=m[0],_=m[1],y=function(e){var n=document.createElement("audio");return n.src=e,n.setAttribute("preload","auto"),n.setAttribute("controls","none"),n.style.display="none",document.body.appendChild(n),n};return(0,t.useEffect)(function(){s(),u(y("/sound/pop.mp3"),"sonidoPop"),u(y("/sound/deslizar.mp3"),"sonidoDraw")},[]),(0,t.useEffect)(function(){C.length||s(!0,c),console.log("TURNOS"),0==n.length&&_({win:!0,player:"Player"}),0==r.length&&_({win:!0,player:"Fobos bot"}),0==a.length&&_({win:!0,player:"Deimos bot"})},[n,r,a,l]),(0,t.useEffect)(function(){C.length||s(!0,c);var e=new G({name:"DeimosBot",hand:a,fun:p,PlayZoneData:c}),n=new G({name:"FobosBot",hand:r,fun:p,PlayZoneData:c}),o=setTimeout(function(){1==l&&e.play(n,l),2==l&&n.play(e,l)},2e3);return function(){return clearTimeout(o)}},[l]),(0,o.jsxs)("div",{className:B().Home,children:[(0,o.jsx)(M,{}),g.win?(0,o.jsxs)("div",{className:B().win,children:["Winner ",g.player,"! "]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("h1",{style:{display:"flex",justifyContent:"space-between"},children:[(0,o.jsx)("div",{children:"Arttis: GameBots"}),"  ",(0,o.jsxs)("div",{children:["Turn of ",f[l]]})]}),(0,o.jsxs)("div",{className:B().play,children:[(0,o.jsx)(x,{listCard:r,left:!0}),(0,o.jsxs)("div",{className:B().desks,children:[(0,o.jsx)(b,{}),(0,o.jsx)(v,{})]}),(0,o.jsx)(x,{listCard:a})]}),(0,o.jsxs)("center",{children:[1==n.length&&(0,o.jsx)(R,{drawTwoCardUnoButton:h}),(0,o.jsx)(w,{listCard:n})]})]})]})}},8466:function(e){e.exports={Card:"Card_Card__w8NlC",init:"Card_init__k5PPB",CardFocus:"Card_CardFocus__PbDlq",UnoCard:"Card_UnoCard__b_oAv",UnoCardDesFocus:"Card_UnoCardDesFocus__Xyj5O",UnoCardUnFocus:"Card_UnoCardUnFocus___dIEf",CenterText:"Card_CenterText__FXcEM",miniTextRight:"Card_miniTextRight__sdjrr",miniTextLeft:"Card_miniTextLeft__ae9_M",CenterImage:"Card_CenterImage__c7UEJ",CenterImageBot:"Card_CenterImageBot__oYc7w",CenterImageBotLeft:"Card_CenterImageBotLeft__BCtsK"}},214:function(e){e.exports={Home:"Home_Home__xVIrd",desks:"Home_desks__PQycT",play:"Home_play__b61Hf",win:"Home_win__jc5fB"}},1419:function(e){e.exports={TableGame:"ViewHand_TableGame__r3SRh",BotGame:"ViewHand_BotGame__giJhA"}},6969:function(e){e.exports={colorBoxRed:"selectedColor_colorBoxRed__iMXg4",colorBoxBlue:"selectedColor_colorBoxBlue__0fWBJ",colorBoxGreen:"selectedColor_colorBoxGreen__xKe9S",colorBoxYellow:"selectedColor_colorBoxYellow__sG_WY",rows:"selectedColor_rows__4AVjI"}}},function(e){e.O(0,[662,22,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);