(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1118:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return t(849)}])},4108:function(e,r,t){"use strict";var n=t(1438),o=function e(r,t,o){(0,n.Z)(this,e),this.id=o,this.color=r,this.number=t};r.Z=o},3609:function(e){"use strict";e.exports={activeValues:["0","1","2","3","4","5","6","7","8","9","a","b","c"],colors:["Blue","Green","Red","Yellow"],turns:["Player","Deimos","Fobos"],especialCardsText:{a:"skip",b:"reverse",c:"draw2",d:"draw4",e:"wild"},wildcards:["e","e","e","e",]}},1311:function(e,r,t){"use strict";var n=(0,t(7294).createContext)();r.Z=n},849:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return H}});var n=t(4924);function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(r){(0,n.Z)(e,r,t[r])})}return e}var a=t(5893);function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function i(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return c(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,r)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t(906);var s=t(7294);function u(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):(function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t})(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}var l="DRAW_PLAYER_STACK",d="PLAY_PLAYER_PLAYZONE",p="GET_PLAYERS_CARD",y="NEXT_PLAYER",f="SET_SOUND",b="NEW_SEQUENCE",P="OPEN_SELECTED_CARD_MODAL";function h(e,r){var t,a,c=r.payload,i=r.type;switch(i){case l:return u(o({},e),(t={},(0,n.Z)(t,c.currentPlayer,c.HandList),(0,n.Z)(t,"Stack",c.stackList),t));case d:return u(o({},e),(a={},(0,n.Z)(a,c.target,c.newPlayerHand),(0,n.Z)(a,"PlayZone",c.newPlace),a));case b:return u(o({},e),{direction:c.direction,turno:c.newPlayer});case y:return u(o({},e),{turno:c.newPlayer});case f:return u(o({},e),(0,n.Z)({},c.target,c.sonido));case P:return u(o({},e),{openSelectedCardModal:c});case p:return u(o({},e),{playerHand:c.playerHand,FobosBot:c.FobosBot,DeimosBot:c.DeimosBot,PlayZone:c.firsPlayZone,Stack:c.newStack});default:return e}}var m=t(1311),v=t(1438);function w(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var g=t(4108).Z,k=t(3609),O=k.activeValues,S=k.colors,E=k.especialCardsText,Z=k.wildcards,D=function(){var e=S.reduce(function(e,r){return i(e).concat(i(O.map(function(e,t){return new g(r,e,String("".concat(e,"-").concat(r,"-").concat(t)))})))},[]),r=Z.map(function(e,r){return new g("Especial",e,"".concat(e,"-Especial-").concat(r))});return i(e).concat(i(e),i(r)).sort(function(){return Math.random()-.5})},B=function(){var e,r,t;function n(){(0,v.Z)(this,n),this.cards=D()}return r=[{key:"firstCardPlayZone",value:function(){for(var e=this.cards[Math.floor(Math.random()*this.cards.length)];Object.keys(E).includes(e.number);)e=this.cards[Math.floor(Math.random()*this.cards.length)];var r=this.cards.indexOf(e);//! Creo que no borra la carta tomada 
//! console.log("Esta", this.cards.includes(first)) 
return r>-1&&this.cards.splice(r,1),e}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&this.reload(e),this.cards.pop()}},{key:"shuffle",value:function(){this.cards=this.cards.sort(function(){return Math.random()-.5})}},{key:"reload",value:function(e){this.cards=e.sort(function(){return Math.random()-.5})}}],w(n.prototype,r),t&&w(n,t),n}(),_=["playerHand","DeimosBot","FobosBot"],j=function(e){var r=e.children,t=(0,s.useReducer)(h,{playerHand:[{number:"0",color:"Red"}],FobosBot:[{number:"0",color:"Red"}],DeimosBot:[{number:"0",color:"Red"}],Stack:[{number:"0",color:"Red"}],PlayZone:[{number:"0",color:"Red"}],turno:0,sonidoPop:!1,sonidoDraw:!1,players:["playerHand","DeimosBot","FobosBot"],direction:1,openSelectedCardModal:!1}),n=t[0],o=t[1],c=function(e){o({type:P,payload:e})},u=function(e,r){o({type:f,payload:{sonido:e,target:r}})},v=function(e){var r=n.turno+n.direction;r>2?r=0:r<0&&(r=2),o({type:y,payload:{newPlayer:"number"==typeof e?e:r}})},w=function(){for(var e=n.turno,r=0;r<2;r++)(e+=n.direction)>2?e=0:e<0&&(e=2);return e},g=function(){var e=-1*n.direction,r=n.turno+e;r>2?r=0:r<0&&(r=2),console.log(r),o({type:b,payload:{direction:e,newPlayer:r}})},k=function(e){var r=n.Stack,t=r.pop(),a=r.pop(),c=r.pop(),s=r.pop(),u=n.turno,d=u;d=2==u?0:u+1;var p=i(n[n.players[d]]).concat([t,a,c,s]);o({type:l,payload:{HandList:p,stackList:r,currentPlayer:n.players[d]}}),v(e)},O=function(e){var r=n.Stack,t=r.pop(),a=r.pop(),c=n.turno,s=c;s=2==c?0:c+1;var u=i(n[n.players[s]]).concat([t,a]);o({type:l,payload:{HandList:u,stackList:r,currentPlayer:n.players[s]}}),v(e)},S=function(e){n.PlayZone[n.PlayZone.length-1].color=e,c(!1),v()},E=function(e){var r=n.Stack,t=r.pop(),a=r.pop(),c=i(n.playerHand).concat([t,a]);o({type:l,payload:{HandList:c,stackList:r,currentPlayer:"playerHand"}})},Z=function(){c(!0)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e)o({type:p,payload:{playerHand:n.playerHand,FobosBot:n.FobosBot,DeimosBot:n.DeimosBot,firsPlayZone:[r.pop()],newStack:r.sort(function(){return Math.random()-.5})}});else{var t,a=new B,c=C(a),i=c.playerHand;o({type:p,payload:{playerHand:i,FobosBot:c.FobosBot,DeimosBot:c.DeimosBot,firsPlayZone:[a.firstCardPlayZone()],newStack:a.cards}})}},_=function(){var e=n.Stack,r=e.pop();o({type:l,payload:{HandList:i(n[n.players[n.turno]]).concat([r]),stackList:e,currentPlayer:n.players[n.turno]}}),v(),n.sonidoDraw&&n.sonidoDraw.play()},j=function(e,r){if(e.color==n.PlayZone[n.PlayZone.length-1].color||e.number==n.PlayZone[n.PlayZone.length-1].number||"Especial"==e.color){"playerHand"==r&&console.log("Jugador jugo: ".concat(e.id));var t=!1,a=!1;switch(e.number){case"a":t=w(),(1==n.turno||2==n.turno)&&console.log("El maldito robot jugo un skip",t);break;case"b":a=!0,g();break;case"c":O(),t=w();break;case"d":k(),t=w();break;case"e":a=!0,Z()}var c=n.PlayZone,i=n[r];i.splice(i.indexOf(e),1),c.push(e),o({type:d,payload:{newPlayerHand:i,target:r,newPlace:c}}),a||v(t),n.sonidoPop&&n.sonidoPop.play()}};return(0,a.jsx)(m.Z.Provider,{value:{playerHand:n.playerHand,FobosBot:n.FobosBot,DeimosBot:n.DeimosBot,Stack:n.Stack,PlayZoneData:n.PlayZone,turno:n.turno,players:n.players,openSelectedCardModal:n.openSelectedCardModal,setUpGame:D,DrawPlayerCard:_,PlayPlayerCards:j,setEffectsSounds:u,drawTwoCardUnoButton:E,changeColorEspecialCard:S},children:r})},C=function(e){var r={playerHand:[],FobosBot:[],DeimosBot:[]};return _.forEach(function(t){r[t]=[0,1,2,3,4,5,6].map(function(r){return e.draw()})}),r},H=function(e){var r=e.Component,t=e.pageProps;return(0,a.jsx)(j,{children:(0,a.jsx)(r,o({},t))})}},906:function(){},1438:function(e,r,t){"use strict";function n(e,r){if(!(e instanceof r))throw TypeError("Cannot call a class as a function")}t.d(r,{Z:function(){return n}})},4924:function(e,r,t){"use strict";function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}t.d(r,{Z:function(){return n}})}},function(e){var r=function(r){return e(e.s=r)};e.O(0,[774,179],function(){return r(1118),r(387)}),_N_E=e.O()}]);